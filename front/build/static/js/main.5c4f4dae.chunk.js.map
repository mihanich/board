{"version":3,"sources":["components/ShowcaseLayout.js","components/Widget.js","components/AddList.js","components/TopBar.js","helper/Config.js","components/VideoBox.js","App.js","Setting.js","serviceWorker.js","index.js"],"names":["originalItems","initialLayouts","lg","i","x","y","w","h","TYPE","PARAMS","VIDEO","FRAME","DEFAULT_PARAMS","type","startPosition","url","ELEMENT_TYPES","withSize","refreshMode","refreshRate","_ref","width","size","_useState","useState","_useState2","Object","_Users_vitaliiburak_Desktop_board_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","items","setItems","_useState3","a","_Users_vitaliiburak_Desktop_board_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","_useState4","currentParamsList","setCurrentParamsList","_useState5","_useState6","formState","setFormState","_useState7","_useState8","_useState9","key","ls","global","localStorage","JSON","parse","getItem","e","getFromLS","_useState10","layouts","setLayouts","onRemoveItem","itemId","filter","handleChangeElementType","event","target","value","apply","_Users_vitaliiburak_Desktop_board_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","concat","handleInputChange","name","handleSubmitForm","preventDefault","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","Fragment","_TopBar__WEBPACK_IMPORTED_MODULE_7__","onLayoutSave","setItem","stringify","onAddItem","react_grid_layout__WEBPACK_IMPORTED_MODULE_4__","className","breakpoints","md","sm","xs","xxs","cols","rowHeight","onLayoutChange","_","allLayouts","excessItems","layout","forEach","item","onResizeStop","oldItem","newItem","placeholder","element","map","data-grid","Infinity","_Widget__WEBPACK_IMPORTED_MODULE_6__","id","backgroundColor","role","onSubmit","onChange","required","param","index","console","log","useStyles","makeStyles","root","height","display","flexDirection","header","alignItems","padding","spacer","flexGrow","body","Widget","children","classes","_Users_vitaliiburak_Desktop_board_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","elementState","setElementState","react__WEBPACK_IMPORTED_MODULE_1___default","_mui_material_Card__WEBPACK_IMPORTED_MODULE_3__","_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_4__","aria-label","onClick","_mui_icons_material__WEBPACK_IMPORTED_MODULE_6__","fontSize","_mui_icons_material__WEBPACK_IMPORTED_MODULE_5__","popup","widgetNames","b","c","d","f","g","AddList","_React$useState","React","_React$useState2","slicedToArray","anchorEl","setAnchorEl","open","Boolean","undefined","handleChange","checked","react_default","IconButton","currentTarget","aria-describedby","AddCircleOutline_default","Popover","onClose","anchorOrigin","vertical","horizontal","transformOrigin","FormControl","component","FormLabel","FormGroup","FormControlLabel","control","Checkbox","includes","label","__webpack_require__","__webpack_exports__","TopBar","justifyContent","Card","Save_default","API_URL","src","this","props","autoPlay","onEnded","muted","PureComponent","CONFIG_TYPES","_default","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","base64Videos","tmpBase64Videos","videos","updated","updatedConfig","setVideos","setState","freshVideos","state","length","currentVideoIndexes","selectVideo","currentVideos","file","currentVideo","currentVideoIndex","findIndex","fileName","toConsumableArray","updateControls","controls","oldControls","assign","val","controlList","onVideoEnd","isEnded","nextIndex","configIsReturned","videoIsReturned","template","config","_this2","socket","SocketIOClient","SOCKET_HOST","on","data","getCurrentVideoIndex","getConfig","fetchAllVideos","_this3","fetch","then","response","json","getCurrentVideos","getControls","_this4","convertUrlTObase64","setTemplate","filterConfig","video","_this5","getVideoTemplate","getFrameTemplate","params","data-width","data-height","VideoBox_default","title","referrerPolicy","_this6","equals","_this7","isAlready","find","push","getBase64","result","encoded","cb","blob","metadata","split","File","reader","FileReader","readAsDataURL","onload","onerror","error","ShowcaseLayout","window","location","hostname","match","ReactDOM","render","react_router_dom","react_router","path","src_App_default","Setting_default","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5c4f4dae.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { Responsive as ResponsiveGridLayout } from \"react-grid-layout\";\nimport { withSize } from \"react-sizeme\";\nimport Widget from \"./Widget\";\nimport TopBar from \"./TopBar\";\nimport './ShowcaseLayout.css';\n\nconst originalItems = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\"];\n\nconst initialLayouts = {\n  lg: [\n    { i: \"a\", x: 0, y: 0, w: 4, h: 4 },\n    { i: \"b\", x: 0, y: 0, w: 4, h: 4 },\n    { i: \"c\", x: 0, y: 0, w: 4, h: 4 },\n    { i: \"d\", x: 4, y: 4, w: 4, h: 4 },\n    { i: \"e\", x: 4, y: 4, w: 4, h: 4 },\n    { i: \"f\", x: 4, y: 4, w: 4, h: 4 },\n    { i: \"g\", x: 8, y: 8, w: 4, h: 4 },\n    { i: \"h\", x: 8, y: 8, w: 4, h: 4 },\n    { i: \"i\", x: 8, y: 8, w: 4, h: 4 }\n  ]\n};\n\nconst TYPE = \"type\";\n\nconst PARAMS = {\n  VIDEO: [\"startPosition\"],\n  FRAME: [\"url\"],\n};\n\nconst DEFAULT_PARAMS = {\n\t\t\"type\": 'video',\n\t\t\"startPosition\": '',\n\t\t\"url\": '',\n};\n\nconst ELEMENT_TYPES = {\n  VIDEO: \"video\",\n  FRAME: \"frame\",\n};\n\nfunction Content({ size: { width } }) {\n  const [items, setItems] = useState(originalItems);\n  const [currentParamsList, setCurrentParamsList] = useState([{'a': {[PARAMS.VIDEO]: ''}}]);\n  const [formState, setFormState] = useState([{'a': DEFAULT_PARAMS}]);\n  const [config, setConfig] = useState([]);\n  const [layouts, setLayouts] = useState(\n    getFromLS(\"layouts\") || initialLayouts\n  );\n  const onLayoutChange = (_, allLayouts) => {\n    // allLayouts.lg = allLayouts.lg && allLayouts.lg.map(item => {\n    //   item.w = item.w % 4 ? item.w : item.w;\n    //   item.y = item.y % 4 ? item.y : item.y;\n    // })\n\n    const excessItems = allLayouts.lg && allLayouts.lg.filter(layout => {\n      return layout.x > 12 || layout.y > 8;\n    });\n\n    setLayouts(allLayouts);\n\n    excessItems.forEach(item => {\n      onRemoveItem(item.i);\n    })\n  };\n  const onLayoutSave = () => {\n    saveToLS(\"layouts\", layouts);\n  };\n  const onRemoveItem = (itemId) => {\n    setItems(items.filter((i) => i !== itemId));\n  };\n  const onAddItem = (itemId) => {\n    setItems([...items, itemId]);\n  };\n  const onResizeCallback = (\n    layout,\n    oldItem,\n    newItem,\n    placeholder,\n    event,\n    element) => {\n    if (newItem.w % 4) {\n      newItem.w = newItem.w < oldItem.w ? oldItem.w - 4 : oldItem.w + 4;\n    } else if (newItem.h % 4) {\n      newItem.h = newItem.h < oldItem.h ? oldItem.h - 4 : oldItem.h + 4;\n    }\n  };\n  const getCurrentParamsList = () => {\n\t  return currentParamsList.map((param, index) => {\n      console.log(param);\n\t\t\treturn (\n\t\t\t\t<div className=\"form-group row\" key={index}>\n\t\t\t\t\t\t<label className=\"col-lg-3 col-form-label form-control-label\">\n\t\t\t\t\t\t\t{param} value\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div className=\"col-lg-9\">\n\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" value={formState[param] || ''} name={param} onChange={handleInputChange} required />\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t  })\n  };\n\n  const handleChangeElementType = (event) => {\n    switch (event.target.value) {\n      case ELEMENT_TYPES.VIDEO:\n        setCurrentParamsList(PARAMS.VIDEO);\n        setFormState(...DEFAULT_PARAMS, {[TYPE]: ELEMENT_TYPES.VIDEO});\n\t\t  break;\n      case ELEMENT_TYPES.FRAME:\n        setCurrentParamsList(PARAMS.FRAME);\n        setFormState(...DEFAULT_PARAMS, {[TYPE]: ELEMENT_TYPES.FRAME });\n\t\t  break;\n      default:\n      setCurrentParamsList(PARAMS.VIDEO);\n    }\n  }\n\n  const handleInputChange = (event) => {\n\t\tconst target = event.target;\n\t\tconst value = target.value;\n\t\tconst name = target.name;\n\n\t\tsetFormState(\n\t\t\t\t...formState,\n\t\t\t\t{[name]: value}\n    );\n\t}\n\n  const handleSubmitForm = (event) => {\n    event.preventDefault();\n  }\n\n  return (\n    <>\n      <TopBar\n        onLayoutSave={onLayoutSave}\n        items={items}\n        onRemoveItem={onRemoveItem}\n        onAddItem={onAddItem}\n        originalItems={originalItems}\n      />\n      <ResponsiveGridLayout\n        className=\"layout\"\n        layouts={layouts}\n        breakpoints={{ lg: 1200, md: 996, sm: 768, xs: 480, xxs: 0 }}\n        cols={{ lg: 12, md: 10, sm: 6, xs: 4, xxs: 2 }}\n        rowHeight={60}\n        width={width}\n        onLayoutChange={onLayoutChange}\n        onResizeStop={onResizeCallback}\n      >\n        {items.map((key) => (\n          <div\n            key={key}\n            className=\"widget\"\n            data-grid={{ w: 4, h: 4, x: 0, y: Infinity }}\n          >\n            <Widget\n              id={key}\n              onRemoveItem={onRemoveItem}\n              backgroundColor=\"#867ae9\"\n            >\n              <form className=\"form\" role=\"form\" onSubmit={handleSubmitForm}>\n                  <div className=\"form-group row\">\n                    <label className=\"col-lg-3 col-form-label form-control-label\">\n                      Element type\n                    </label>\n                    <div className=\"col-lg-9\">\n                      <select\n                        className=\"form-control\"\n                        size=\"0\"\n                        onChange={handleChangeElementType}\n\t\t\t\t\t\t\t\t        required\n                        id={key}\n                      >\n                        <option value=\"video\">Video</option>\n                        <option value=\"frame\">frame</option>\n                      </select>\n                    </div>\n                  </div>\n\t\t\t\t\t\t{getCurrentParamsList()}\n                  <div className=\"form-group row\">\n                    <div className=\"col-3\"></div>\n                    <div className=\"col-3\">\n                      <input\n                        className=\"btn btn-primary\"\n                        type=\"button\"\n                        value=\"Add to config\"\n                      />\n                    </div>\n                </div>\n            </form>\n            </Widget>\n          </div>\n        ))}\n      </ResponsiveGridLayout>\n    </>\n  );\n}\n\nexport default withSize({ refreshMode: \"debounce\", refreshRate: 60 })(Content);\n\nfunction getFromLS(key) {\n  let ls = {};\n  if (global.localStorage) {\n    try {\n      ls = JSON.parse(global.localStorage.getItem(\"rgl-8\")) || {};\n    } catch (e) {}\n  }\n  return ls[key];\n}\n\nfunction saveToLS(key, value) {\n  if (global.localStorage) {\n    global.localStorage.setItem(\n      \"rgl-8\",\n      JSON.stringify({\n        [key]: value\n      })\n    );\n  }\n}\n","import React, { useState } from \"react\";\nimport { makeStyles } from '@mui/styles';\nimport Card from \"@mui/material/Card\";\nimport IconButton from \"@mui/material/IconButton\";\nimport { Close as CloseIcon } from \"@mui/icons-material\";\nimport { ChangeCircle as ChangeCircleIcon } from \"@mui/icons-material\";\nimport Typography from \"@mui/material/Typography\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: \"0.5rem\"\n  },\n  spacer: {\n    flexGrow: 1\n  },\n  body: {\n    padding: \"1rem 2rem\",\n    flexGrow: 1\n  }\n});\n\nexport default function Widget({ id, onRemoveItem, children }) {\n  const classes = useStyles();\n  const [elementState, setElementState] = useState('');\n  const changeElementState = (e) => {\n    elementState ? setElementState('') : setElementState('active');\n  }\n\n  return (\n    <Card className={classes.root}>\n      <div className={classes.header}>\n        <div className={classes.spacer} />\n        <IconButton aria-label=\"change view\" onClick={() => changeElementState()}>\n          <ChangeCircleIcon fontSize=\"small\" />\n        </IconButton>\n        <IconButton aria-label=\"delete\" onClick={() => onRemoveItem(id)}>\n          <CloseIcon fontSize=\"small\" />\n        </IconButton>\n      </div>\n      <div className={`${classes.body} ${elementState} flip`}>\n        <div className=\"front\">\n          {children}\n        </div>\n        <div className=\"back\">\n          VIDEO OR FRAME CONTENT\n        </div>\n      </div>\n    </Card>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@mui/styles\";\nimport Popover from \"@mui/material/Popover\";\nimport FormLabel from \"@mui/material/FormLabel\";\nimport FormControl from \"@mui/material/FormControl\";\nimport FormGroup from \"@mui/material/FormGroup\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport IconButton from \"@mui/material/IconButton\";\nimport AddCircleOutlineIcon from \"@mui/icons-material/AddCircleOutline\";\n\nconst useStyles = makeStyles({\n  popup: {\n    padding: \"0.5rem\"\n  }\n});\n\nconst widgetNames = {\n    a: \"BOX\",\n    b: \"BOX\",\n    c: \"BOX\",\n    d: \"BOX\",\n    e: \"BOX\",\n    f: \"BOX\",\n    g: \"BOX\",\n    h: \"BOX\",\n    i: \"BOX\",\n};\n\nexport default function AddList({\n  items,\n  onRemoveItem,\n  onAddItem,\n  originalItems\n}) {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? \"simple-popover\" : undefined;\n\n  const handleChange = (e) => {\n    if (e.target.checked) {\n      onAddItem(e.target.name);\n    } else {\n      onRemoveItem(e.target.name);\n    }\n  };\n\n  return (\n    <>\n      <IconButton aria-label=\"add\" onClick={handleClick} aria-describedby={id}>\n        <AddCircleOutlineIcon />\n      </IconButton>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\"\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\"\n        }}\n      >\n        <div className={classes.popup}>\n          <FormControl component=\"fieldset\">\n            <FormLabel component=\"legend\">Select Widgets</FormLabel>\n            <FormGroup>\n              {originalItems.map((i) => (\n                <FormControlLabel\n                  control={\n                    <Checkbox\n                      checked={items.includes(i)}\n                      onChange={handleChange}\n                      name={i}\n                    />\n                  }\n                  label={widgetNames[i]}\n                  key={i}\n                />\n              ))}\n            </FormGroup>\n          </FormControl>\n        </div>\n      </Popover>\n    </>\n  );\n}\n","import React from \"react\";\nimport Card from \"@mui/material/Card\";\nimport { makeStyles } from \"@mui/styles\";\nimport IconButton from \"@mui/material/IconButton\";\nimport SaveIcon from \"@mui/icons-material/Save\";\nimport AddList from \"./AddList\";\n\nconst useStyles = makeStyles({\n  root: {\n    padding: \"0.5rem\",\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"flex-end\"\n  }\n});\n\nexport default function TopBar({\n  onLayoutSave,\n  items,\n  onRemoveItem,\n  onAddItem,\n  originalItems\n}) {\n  const classes = useStyles();\n  return (\n    <Card className={classes.root}>\n      <AddList\n        items={items}\n        onRemoveItem={onRemoveItem}\n        onAddItem={onAddItem}\n        originalItems={originalItems}\n      />\n      <IconButton aria-label=\"save\" onClick={onLayoutSave}>\n        <SaveIcon />\n      </IconButton>\n    </Card>\n  );\n}\n","export const API_HOST = \"http://127.0.0.1\";\nexport const API_PORT = 3001;\nexport const API_URL = \"http://127.0.0.1:3001/api/\";\n\nexport const SOCKET_HOST = \"http://127.0.0.1\";\nexport const SOCKET_PORT = 3002;","import React, { PureComponent } from \"react\";\n\nexport default class extends PureComponent {\n    render() {\n        return (\n            <div className=\"video-wrapper\">\n                <video\n                    src={this.props.src}\n                    autoPlay={this.props.autoPlay}\n                    onEnded={this.props.onEnded}\n                    id={this.props.id}\n                    muted\n                />\n            </div>\n        );\n    }\n}\n","import React, { PureComponent } from \"react\";\nimport SocketIOClient from 'socket.io-client';\n\nimport { SOCKET_HOST, SOCKET_PORT, API_URL } from './helper/Config';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport VideoBox from \"./components/VideoBox\";\nimport \"./App.css\";\n\nconst CONFIG_TYPES = {\n\tVIDEO: 'video',\n\tFRAME: 'frame'\n}\n\nexport default class extends PureComponent {\n\n\ti = 0;\n\tbase64Videos = [];\n\ttmpBase64Videos = [];\n\tvideos = [];\n\tupdated = false;\n\tupdatedConfig = false;\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tconfigIsReturned : false,\n\t\t\tvideoIsReturned : false,\n\t\t\ttemplate: [],\n\t\t\tconfig: [{\n\t\t\t\t\"type\": \"video\",\n\t\t\t\t\"startPosition\": 0,\n\t\t\t\t\"height\": 25,\n\t\t\t\t\"width\": 100\n\t\t\t}],\n\t\t\tfreshVideos: [],\n\t\t\tcurrentVideos: [{\n\t\t\t\tfile: null,\n\t\t\t\tfileName: null,\n\t\t\t\tonEnded: false\n\t\t\t}],\n\t\t\tcurrentVideoIndexes: [],\n\t\t\tcontrols: []\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.socket = SocketIOClient(SOCKET_HOST + ':' + SOCKET_PORT);\n\t\tthis.socket.on('video', (data) => {\n\t\t\tconsole.log(data);\n\t\t\tthis.setVideos(data.videos);\n\t\t});\n\t\tthis.socket.on('config', (data) => {\n\t\t\tthis.setState({config : data.config});\n\t\t\tthis.setState({\n\t\t\t\tconfigIsReturned : true,\n\t\t\t\tcurrentVideoIndexes: this.getCurrentVideoIndex(),\n\t\t\t});\n\t\t});\n\n\t\tthis.getConfig();\n\t\tthis.fetchAllVideos();\n\t}\n\n\tgetConfig() {\n\t\tfetch(API_URL + 'config').then(response => response.json())\n\t\t.then(data => {\n\t\t\tthis.setState({config : data});\n\t\t\tthis.setState({\n\t\t\t\tconfigIsReturned : true,\n\t\t\t\tcurrentVideoIndexes: this.getCurrentVideoIndex(),\n\t\t\t\tcurrentVideos: this.getCurrentVideos(),\n\t\t\t\tcontrols: this.getControls()\n\t\t\t});\n\t\t});\n\t}\n\n\tfetchAllVideos() {\n\t\tfetch(API_URL + 'videos').then(response => response.json())\n\t\t.then(data => {\n\t\t\tthis.tmpBase64Videos = [];\n\t\t\tthis.i = 0;\n\t\t\tthis.videos = data.data;\n\t\t\tthis.updated = false;\n\t\t\tthis.convertUrlTObase64(data.data);\n\t\t\tthis.setState({videoIsReturned : true});\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<main role=\"main\">\n\t\t\t\t<div className=\"album bg-light\">\n\t\t\t\t\t<div className=\"box\">\n\t\t\t\t\t\t{this.state.configIsReturned && this.state.videoIsReturned ? this.setTemplate() : <h1>Loading...</h1>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t);\n\t}\n\n\tgetControls() {\n\t\tconst videosSetting = this.filterConfig(CONFIG_TYPES.VIDEO);\n\n\t\treturn videosSetting.map(video => {\n\t\t\treturn {autoPlay: true, onEnded: true};\n\t\t});\n\t}\n\n\tsetTemplate() {\n\t\tlet i = -1;\n\n\t\treturn this.state.config.map((item, index) => {\n\t\t\tif (item.type === CONFIG_TYPES.VIDEO) {\n\t\t\t\ti++;\n\n\t\t\t\treturn this.getVideoTemplate(i, index, item);\t\t\n\t\t\t} else if (item.type === CONFIG_TYPES.FRAME) {\n\t\t\t\treturn this.getFrameTemplate(item.url, index, item);\n\t\t\t}\n\t\t});\n\t}\n\n\tgetVideoTemplate(i, index, params) {\n\t\tconst width = params.width ? params.width : '100';\n\t\tconst height = params.height ? params.height : '100';\n\n\t\tif (!this.state.currentVideos[i]) return;\n\n\t\treturn (\n\t\t\t<div className=\"video-box\" key={index} data-width={width} data-height={height}>\n\t\t\t\t<VideoBox\n\t\t\t\t\tsrc={this.state.currentVideos[i].file}\n\t\t\t\t\tautoPlay={this.state.controls[i].autoPlay}\n\t\t\t\t\tonEnded={this.onVideoEnd}\n\t\t\t\t\tdata={this.state.currentVideos[i]}\n\t\t\t\t\tid={i}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tgetFrameTemplate(url, index, params) {\n\t\tconst width = params.width ? params.width : '100';\n\t\tconst height = params.height ? params.height : '100';\n\n\t\treturn (\n\t\t\t<div className=\"frame-wrapper\" key={index} data-width={width} data-height={height}>\n\t\t\t\t<iframe src={url} id=\"myIFrame\" title=\"MyFrame\" referrerPolicy=\"no-referrer\" className=\"frame\"></iframe>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tgetCurrentVideoIndex() {\n\t\tconst videosSetting = this.filterConfig(CONFIG_TYPES.VIDEO);\n\n\t\treturn videosSetting.map(video => video.startPosition);\n\t}\n\n\tgetCurrentVideos() {\n\t\tconst videosSetting = this.filterConfig(CONFIG_TYPES.VIDEO);\n\n\t\treturn videosSetting.map(video => {\n\t\t\treturn {\n\t\t\t\tfile: null,\n\t\t\t\tfileName: null,\n\t\t\t\tonEnded: false\n\t\t\t};\n\t\t});\n\t}\n\n\tfilterConfig(type) {\n\t\treturn this.state.config.filter(item => {\n\t\t\tif (item.type === type) {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t})\n\t}\n\n\tequals(a, b) {\n\t\treturn a.length === b.length;\n\t};\n\n\tcheckUpdate() {\n\t\tfetch(API_URL + 'videos').then(response => response.json())\n\t\t.then(data => {\n\t\t\tthis.updated = !this.equals(this.videos, data.data);\n\t\t});\n\t\tfetch(API_URL + 'config').then(response => response.json())\n\t\t.then(data => {\n\t\t\tthis.updatedConfig = !this.equals(this.state.config, data);\n\t\t});\n\t}\n\n\tconvertUrlTObase64(videos){\n\t\tlet video = videos[this.i];\n\t\tif(video){\n\t\t\tthis.i++;\n\t\t\tlet isAlready = this.base64Videos.find(item => item.fileName === video.fileName);\n\t\t\tif(!isAlready || isAlready.size !== video.size){\n\t\t\t\tthis.getBase64(video.file, video.fileName, (result) => {\n\t\t\t\t\tlet encoded = {\n\t\t\t\t\t\tfile: result,\n\t\t\t\t\t\tfileName: video.fileName,\n\t\t\t\t\t\tsize: video.size\n\t\t\t\t\t};\n\t\t\t\t\tthis.tmpBase64Videos.push(encoded);\n\t\t\t\t\tthis.convertUrlTObase64(videos);\n\t\t   \t\t});\n\t\t\t} else {\n\t\t\t\tthis.tmpBase64Videos.push(isAlready);\n\t\t\t\tthis.convertUrlTObase64(videos);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.base64Videos = Object.assign([], this.tmpBase64Videos);\n\t\t\tthis.setVideos(this.base64Videos);\n\t\t}\n\t}\n\n\n\tasync getBase64(file, fileName, cb) {\n\t\tlet response = await fetch(file);\n\t\tlet data = await response.blob();\n\t\tlet metadata = {\n\t\t\ttype: 'video/'+fileName.split('.')[1]\n\t\t};\n\t\tfile = new File([data], fileName, metadata);\n\n\t\tlet reader = new FileReader();\n\t\treader.readAsDataURL(file);\n\t\treader.onload = function () {\n\t\t\tcb(reader.result)\n\t\t};\n\t\treader.onerror = function (error) {\n\t\t\tconsole.log('Error: ', error);\n\t\t};\n\t}\n\n\tsetVideos = (videos) => {\n\t\tthis.setState({ freshVideos: videos });\n\t\tif (this.state.freshVideos.length) {\n\t\t\tthis.state.currentVideoIndexes.forEach((id, index) => {\n\t\t\t\tthis.selectVideo(this.state.freshVideos[id], index);\n\t\t\t})\n\t\t} else {\n\t\t\tthis.setState({ currentVideos: [{ name: null, file: null }, { name: null, file: null }] });\n\t\t}\n\t}\n\n\tselectVideo = (currentVideo, id) => {\n\t\tlet currentVideoIndex =  this.base64Videos.findIndex(item => item.fileName === currentVideo.fileName);\n\t\tlet currentVideos = [...this.state.currentVideos];\n\t\tlet currentVideoIndexes = [...this.state.currentVideoIndexes];\n\n\t\tcurrentVideoIndexes[id] = currentVideoIndex;\n\t\tcurrentVideos[id] = currentVideo;\n\n\t\tthis.setState({ currentVideos, currentVideoIndexes });\n\t};\n\n\tupdateControls = (controls, id) => {\n\t\tlet oldControls = Object.assign({}, this.state.controls[id]);\n\t\tfor (let key in controls) {\n\t\t\tlet val = controls[key];\n\t\t\toldControls[key] = val;\n\t\t}\n\t\tlet controlList =  this.state.controls;\n\t\tcontrolList[id] = oldControls;\n\t\tthis.setState({ controls: controlList });\n\t};\n\n\tonVideoEnd = (id) => {\n\t\tid = id.currentTarget.id;\n\n\t\tthis.updateControls({ isEnded: true }, id);\n\n\t\tlet nextIndex = 0;\n\n\t\tif (this.state.freshVideos[this.state.currentVideoIndexes[id] + 1]) {\n\t\t\tnextIndex = this.state.currentVideoIndexes[id] + 1;\n\n\t\t\tthis.selectVideo(this.state.freshVideos[nextIndex], id);\n\t\t} else {\n\t\t\tlet currentVideoIndexes = [...this.state.currentVideoIndexes];\n\n\t\t\tcurrentVideoIndexes[id] = 0;\n\n\t\t\tthis.setState({ currentVideoIndexes });\n\n\t\t\tnextIndex = 0;\n\n\t\t\tthis.selectVideo(this.state.freshVideos[nextIndex], id);\n\t\t}\n\t}\n}","import React, { PureComponent } from \"react\";\nimport ShowcaseLayout from \"./components/ShowcaseLayout\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\n\nconst TYPE = \"type\";\nconst PARAMS = {\n  VIDEO: [\"startPosition\"],\n  FRAME: [\"url\"],\n};\nconst DEFAULT_PARAMS = {\n\t\t\"type\": 'video',\n\t\t\"startPosition\": '',\n\t\t\"url\": '',\n};\nconst ELEMENT_TYPES = {\n  VIDEO: \"video\",\n  FRAME: \"frame\",\n};\n\nexport default class extends PureComponent {\n\tconfig = [];\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <>\n        <ShowcaseLayout onLayoutChange={this.onLayoutChange} />\n      </>\n    );\n  }\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport Setting from './Setting';\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Routes, Route } from \"react-router-dom\";\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <BrowserRouter>\n        <Routes>\n            <Route path=\"/\" element={<App />} />\n            <Route path=\"/setting\" element={<Setting />} />\n        </Routes>\n    </BrowserRouter>\n    , document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}